# ğŸš€ æ–°çª—å£å¯¹æ¥æŒ‡å—

## ğŸ“ å½“å‰ä½ç½®
æ‚¨ç°åœ¨åœ¨ï¼š`/home/ubuntu/web3`

## âš¡ å¿«é€Ÿå¯¹æ¥ï¼ˆæ¨èï¼‰

### æ–¹æ³•1ï¼šä¸€é”®åˆå§‹åŒ–è„šæœ¬
```bash
cd /home/ubuntu/web3
source quick_setup_new_window.sh
```

### æ–¹æ³•2ï¼šæ‰‹åŠ¨è®¾ç½®ç¯å¢ƒå˜é‡
```bash
export HTTPS_PROXY=http://127.0.0.1:18443
export HTTP_PROXY=$HTTPS_PROXY
export ANTHROPIC_BASE_URL=https://api.anthropic.com
```

---

## ğŸ”§ **å…³é”®é…ç½®ä¿¡æ¯**

### ç¯å¢ƒå˜é‡
- **HTTPS_PROXY**: `http://127.0.0.1:18443`
- **HTTP_PROXY**: `$HTTPS_PROXY`
- **ANTHROPIC_BASE_URL**: `https://api.anthropic.com` â­ **å…³é”®**

### æœåŠ¡çŠ¶æ€æ£€æŸ¥
```bash
# æ£€æŸ¥ WireGuard
sudo wg show

# æ£€æŸ¥ tinyproxy
ps aux | grep tinyproxy

# æ£€æŸ¥ä»£ç† IP
curl -x http://127.0.0.1:18443 https://ifconfig.me
```

### æµ‹è¯• Claude CLI
```bash
claude -p "hello"
```

---

## ğŸ“ **é‡è¦æ–‡ä»¶ä½ç½®**

### é…ç½®æ–‡ä»¶
- **WireGuard**: `/etc/wireguard/wg0.conf`
- **tinyproxy**: `/etc/tinyproxy/tinyproxy.conf`
- **ç¯å¢ƒå˜é‡**: `~/.bashrc`

### è„šæœ¬æ–‡ä»¶ï¼ˆåœ¨ `/home/ubuntu/web3`ï¼‰
- `test_claude_proxy.sh` - éªŒè¯é…ç½®
- `restart_claude_proxy.sh` - é‡å¯æœåŠ¡
- `quick_setup_new_window.sh` - æ–°çª—å£åˆå§‹åŒ–
- `SURFSHARK_CLAUDE_é…ç½®æ–‡æ¡£.md` - å®Œæ•´æŠ€æœ¯æ–‡æ¡£

---

## ğŸ›  **å¸¸ç”¨ç»´æŠ¤å‘½ä»¤**

### å¦‚æœ Claude CLI ä¸å·¥ä½œ
```bash
# 1. æ£€æŸ¥ç¯å¢ƒå˜é‡
echo $ANTHROPIC_BASE_URL  # åº”æ˜¾ç¤º: https://api.anthropic.com
echo $HTTPS_PROXY         # åº”æ˜¾ç¤º: http://127.0.0.1:18443

# 2. è¿è¡Œå®Œæ•´éªŒè¯
./test_claude_proxy.sh

# 3. å¦‚æœ‰é—®é¢˜ï¼Œé‡å¯æœåŠ¡
./restart_claude_proxy.sh
```

### ä»£ç†ç›¸å…³
```bash
# å½“å‰ä»£ç† IPï¼ˆåº”è¯¥æ˜¯ Surfshark ä»¥è‰²åˆ—èŠ‚ç‚¹ï¼‰
curl -x http://127.0.0.1:18443 https://ifconfig.me

# ç›´è¿ IPï¼ˆè…¾è®¯äº‘ï¼‰
curl https://ifconfig.me
```

---

## âš ï¸ **å¸¸è§é—®é¢˜**

### é—®é¢˜1ï¼šç¯å¢ƒå˜é‡å¤±æ•ˆ
**ç°è±¡**ï¼š`echo $ANTHROPIC_BASE_URL` æ˜¾ç¤ºç©ºç™½
**è§£å†³**ï¼šè¿è¡Œ `source ~/.bashrc` æˆ–ä½¿ç”¨å¿«é€Ÿåˆå§‹åŒ–è„šæœ¬

### é—®é¢˜2ï¼šClaude CLI è¿æ¥å¤±è´¥
**ç°è±¡**ï¼šæç¤º "Unable to connect to Anthropic services"
**è§£å†³**ï¼š
1. æ£€æŸ¥ç¯å¢ƒå˜é‡è®¾ç½®
2. è¿è¡Œ `./test_claude_proxy.sh` è¯Šæ–­
3. å¦‚éœ€è¦é‡å¯æœåŠ¡ï¼š`./restart_claude_proxy.sh`

### é—®é¢˜3ï¼šä»£ç†æœåŠ¡æœªè¿è¡Œ
**ç°è±¡**ï¼š`curl -x http://127.0.0.1:18443` å¤±è´¥
**è§£å†³**ï¼š
```bash
sudo systemctl restart wg-quick@wg0
sudo systemctl restart tinyproxy
```

---

## ğŸ“± **æ–°çª—å£å¿«é€Ÿæ£€æŸ¥æ¸…å•**

æ‰“å¼€æ–°çª—å£åï¼Œä¾æ¬¡ç¡®è®¤ï¼š

- [ ] **ä½ç½®æ­£ç¡®**ï¼š`cd /home/ubuntu/web3`
- [ ] **ç¯å¢ƒå˜é‡è®¾ç½®**ï¼š`source quick_setup_new_window.sh`
- [ ] **Claude CLI å·¥ä½œ**ï¼š`claude -p "test"`
- [ ] **ä»£ç†è¿æ¥æ­£å¸¸**ï¼šè„šæœ¬ä¼šè‡ªåŠ¨æ£€æŸ¥

å¦‚æœæ‰€æœ‰æ£€æŸ¥éƒ½é€šè¿‡ï¼Œæ‚¨å°±å¯ä»¥åœ¨æ–°çª—å£ä¸­æ­£å¸¸ä½¿ç”¨ Claude CLI äº†ï¼

---

## ğŸ¯ **æ ¸å¿ƒåŸç†æé†’**

- **åˆ†æµæœºåˆ¶**ï¼šClaude CLI èµ° Surfsharkï¼Œå…¶ä»–åº”ç”¨èµ°è…¾è®¯äº‘ç›´è¿
- **Cloudflare ç»•è¿‡**ï¼šä½¿ç”¨ `api.anthropic.com` è€Œé `console.anthropic.com`
- **è‡ªåŠ¨åŒ–**ï¼šæ‰€æœ‰æœåŠ¡å¼€æœºè‡ªå¯ï¼Œç¯å¢ƒå˜é‡è‡ªåŠ¨åŠ è½½

**è®°ä½ï¼šå¦‚æœé‡åˆ°ä»»ä½•é—®é¢˜ï¼ŒæŸ¥çœ‹ `SURFSHARK_CLAUDE_é…ç½®æ–‡æ¡£.md` è·å–è¯¦ç»†çš„æ•…éšœæ’æŸ¥æŒ‡å—ï¼** 